<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>优化版投注应用</title>

    <link rel="icon" type="image/png" sizes="32x32" href="/path/to/logoA-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/path/to/logoA-16.png">
    <link rel="shortcut icon" href="/path/to/logoA.ico">

    <link rel="apple-touch-icon" sizes="180x180" href="/path/to/logoA-180.png">

    <link rel="manifest" href="/manifest.json">
    <style>
        /* --- 通用样式 --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
        }
        .section-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 20px;
            margin-bottom: 10px;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
        }
        button {
            padding: 8px 12px;
            font-size: 14px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            background-color: #007bff;
            color: white;
        }
        button:hover {
            background-color: #0056b3;
        }

        /* --- 任务 5: 顶部 Logo --- */
        header {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            background-color: white;
            border-bottom: 1px solid #ddd;
        }
        header img {
            height: 40px; /* Logo 高度 */
            margin-right: 15px;
        }
        header h1 {
            font-size: 1.5rem;
            margin: 0;
        }

        /* --- 任务 1: 投注区 (5列布局) --- */
        .betting-area {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            padding: 10px;
            background-color: white;
            border-radius: 8px;
        }
        .betting-column {
            flex: 1; /* 5列平分 */
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .betting-item {
            display: flex;
            align-items: center;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 8px;
            background-color: #fdfdfd;
        }
        /* 任务 1: 选项编号字体改为黑色 */
        .betting-item .number {
            font-weight: bold;
            color: #000000; /* 黑色字体 */
            min-width: 25px;
        }
        .betting-item .details {
            font-size: 0.9rem;
            margin-left: 8px;
            color: #555;
        }

        /* --- 模拟的功能区/输入区 --- */
        .function-area {
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            margin-top: 20px;
        }
        .function-area input {
            width: 80px;
            padding: 5px;
            margin-right: 10px;
        }

        /* --- 任务 4: 汇总统计区 --- */
        .summary-area {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: center;
            padding: 15px;
            background-color: #e6f7ff; /* 醒目背景色 */
            border: 1px solid #b3e0ff;
            border-radius: 8px;
            margin-top: 20px; /* 在功能区下方 */
        }
        .summary-item {
            font-size: 1.1rem;
            font-weight: 500;
        }
        /* Emojis for clarity */
        .summary-item .emoji { margin-right: 8px; }
        .summary-item #summary-profit-count { color: #007bff; } /* 蓝色 */
        .summary-item #summary-loss-count { color: #dc3545; } /* 红色 */
        .summary-item #summary-total { font-weight: bold; }
        .summary-item input { width: 80px; padding: 5px; }

        /* --- 任务 2 & 3: 控制区 (隐藏按键 / 排序) --- */
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        .controls .sort-select label {
            margin-right: 10px;
            font-weight: bold;
        }
        .controls .sort-select select {
            padding: 5px;
            font-size: 14px;
        }

        /* --- 任务 2: 实时排列区 --- */
        .realtime-area {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            transition: all 0.3s ease; /* 隐藏/显示的过渡 */
        }
        /* 隐藏状态 */
        .realtime-area.hidden {
            display: none;
            /* 也可以用 opacity 和 height 实现动画 */
            /* opacity: 0;
            max-height: 0;
            padding: 0;
            margin: 0;
            overflow: hidden; */
        }
        .realtime-item {
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .realtime-item .pl-value {
            font-weight: bold;
        }
        .realtime-item .pl-value.profit {
            color: #007bff; /* 盈: 蓝色 */
        }
        .realtime-item .pl-value.loss {
            color: #dc3545; /* 亏: 红色 */
        }
    </style>
</head>
<body>

    <header>
        <img src="/path/to/logoA-180.png" alt="Logo A">
        <h1>应用标题</h1>
    </header>

    <div class="container">

        <div class="section-title">投注区</div>
        <div class="betting-area">
            <div class="betting-column">
                <div class="betting-item"><span class="number">1</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">2</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">3</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">4</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">5</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">6</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">7</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">8</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">9</span><span class="details">详情...</span></div>
            </div>
            <div class="betting-column">
                <div class="betting-item"><span class="number">10</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">11</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">19</span><span class="details">详情...</span></div>
            </div>
            <div class="betting-column">
                <div class="betting-item"><span class="number">20</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">21</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">29</span><span class="details">详情...</span></div>
            </div>
            <div class="betting-column">
                <div class="betting-item"><span class="number">30</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">31</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">39</span><span class="details">详情...</span></div>
            </div>
            <div class="betting-column">
                <div class="betting-item"><span class="number">40</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">41</span><span class="details">详情...</span></div>
                <div class="betting-item"><span class="number">49</span><span class="details">详情...</span></div>
            </div>
        </div>

        <div class="section-title">功能区 / 输入与调节区</div>
        <div class="function-area" id="input-area">
            <label>项目A投注:</label>
            <input type="number" class="data-input" value="100">
            <label>项目B投注:</label>
            <input type="number" class="data-input" value="50">
            <label>项目C投注:</label>
            <input type="number" class="data-input" value="0">
        </div>

        <div class="summary-area">
            <div class="summary-item">
                <span class="emoji">🧮</span>
                总和: <span id="summary-total">0</span>
            </div>
            <div class="summary-item">
                <span class="emoji">🔵</span>
                盈几项: <span id="summary-profit-count">0</span>
            </div>
            <div class="summary-item">
                <span class="emoji">🔴</span>
                亏几项: <span id="summary-loss-count">0</span>
            </div>
            <div class="summary-item">
                <span class="emoji">⚙️</span>
                <label for="adjust-total">调节总和:</label>
                <input type="number" id="adjust-total" class="data-input" value="0">
            </div>
        </div>


        <div class="controls">
            <button id="toggle-realtime-btn">隐藏排列区</button>

            <div class="sort-select">
                <label for="sort-options">排列设置:</label>
                <select id="sort-options">
                    <option value="default">默认排列</option>
                    <option value="pl-desc">按盈亏值排列 (高到低)</option>
                    <option value="pl-asc">按盈亏值排列 (低到高)</option>
                </select>
            </div>
        </div>
        
        <div class="realtime-area" id="realtime-area">
            <div class="realtime-item" data-index="1" data-pl="150">
                项目 1 (盈亏: <span class="pl-value profit">+150</span>)
            </div>
            <div class="realtime-item" data-index="2" data-pl="-50">
                项目 2 (盈亏: <span class="pl-value loss">-50</span>)
            </div>
            <div class="realtime-item" data-index="3" data-pl="30">
                项目 3 (盈亏: <span class="pl-value profit">+30</span>)
            </div>
            <div class="realtime-item" data-index="4" data-pl="0">
                项目 4 (盈亏: <span class="pl-value">0</span>)
            </div>
            <div class="realtime-item" data-index="5" data-pl="-120">
                项目 5 (盈亏: <span class="pl-value loss">-120</span>)
            </div>
        </div>

    </div> <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- 任务 2: 隐藏/显示 实时排列区 ---
        const toggleBtn = document.getElementById('toggle-realtime-btn');
        const realtimeArea = document.getElementById('realtime-area');

        toggleBtn.addEventListener('click', () => {
            realtimeArea.classList.toggle('hidden');
            // 更新按键文本
            if (realtimeArea.classList.contains('hidden')) {
                toggleBtn.textContent = '显示排列区';
            } else {
                toggleBtn.textContent = '隐藏排列区';
            }
        });


        // --- 任务 3: 按盈亏值排列 ---
        const sortSelect = document.getElementById('sort-options');
        const itemsContainer = document.getElementById('realtime-area');

        sortSelect.addEventListener('change', () => {
            // 1. 获取所有子项
            //    使用 [].slice.call 将 NodeList 转换为真实数组
            const items = [].slice.call(document.querySelectorAll('.realtime-item'));
            
            const sortType = sortSelect.value;

            // 2. 排序
            items.sort((a, b) => {
                const plA = parseFloat(a.dataset.pl);
                const plB = parseFloat(b.dataset.pl);
                const indexA = parseInt(a.dataset.index);
                const indexB = parseInt(b.dataset.index);

                switch (sortType) {
                    case 'pl-desc': // 盈亏高到低
                        return plB - plA;
                    case 'pl-asc': // 盈亏低到高
                        return plA - plB;
                    case 'default': // 默认 (按 data-index)
                    default:
                        return indexA - indexB;
                }
            });

            // 3. 重新插入DOM
            items.forEach(item => {
                itemsContainer.appendChild(item);
            });
        });


        // --- 任务 4: 汇总区自动更新 ---
        const summaryTotalEl = document.getElementById('summary-total');
        const summaryProfitEl = document.getElementById('summary-profit-count');
        const summaryLossEl = document.getElementById('summary-loss-count');
        const adjustTotalInput = document.getElementById('adjust-total');

        // 绑定所有触发更新的输入框 (来自 "输入与调节区" 和 "汇总区" 自己)
        const inputs = document.querySelectorAll('.data-input');

        function updateSummary() {
            // 在实际应用中, 这里的逻辑会很复杂
            // 这里我们用模拟数据来演示
            
            // 1. 从 "实时排列区" 的模拟数据中获取盈亏值
            const realtimeItems = document.querySelectorAll('.realtime-item');
            let calculatedTotal = 0;
            let profitCount = 0;
            let lossCount = 0;

            realtimeItems.forEach(item => {
                const pl = parseFloat(item.dataset.pl) || 0;
                if (pl > 0) {
                    profitCount++;
                } else if (pl < 0) {
                    lossCount++;
                }
                // (注意: 这里的 total 应该基于您的 "输入与调节区" 
                // 和 "实时排列区" 的数据动态计算。为演示, 我们先用实时区的 P/L)
                calculatedTotal += pl; 
            });

            // 2. (演示) 让 "输入与调节区" 的值影响总和
            // 假设 "输入与调节区" 的值是总成本
            let inputCost = 0;
            document.querySelectorAll('#input-area .data-input').forEach(input => {
                inputCost += parseFloat(input.value) || 0;
            });
            // 假设总和 = (计算出的盈亏) - (输入成本)
            // 这是一个非常简化的模拟!
            // let baseTotal = calculatedTotal - inputCost; 
            // (我们暂时只用实时排列区的总和, 避免逻辑混乱)
            let baseTotal = calculatedTotal;


            // 3. 获取 "调节总和" 的值
            const adjustment = parseFloat(adjustTotalInput.value) || 0;

            // 4. 更新汇总区的显示
            summaryTotalEl.textContent = (baseTotal + adjustment).toFixed(2);
            summaryProfitEl.textContent = profitCount;
            summaryLossEl.textContent = lossCount;
        }

        // 5. 为所有相关输入框添加 "input" 事件监听
        inputs.forEach(input => {
            input.addEventListener('input', updateSummary);
        });

        // 页面加载时立即执行一次
        updateSummary();

    });
    </script>
</body>
</html>
